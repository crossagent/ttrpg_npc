# Project Brief: TTRPG NPC 模拟引擎 (心智回响 - 暂定名)

## 1. 项目目标

*   **核心目标**: 创建一个专为**单人游玩**设计的革命性桌面角色扮演游戏（TTRPG）模拟引擎。
*   **驱动方式**: 利用先进的大型语言模型（LLM）技术，创造一个充满**拥有独立思考能力、目标驱动、个性鲜明**的非玩家角色（NPC）的动态世界。
*   **核心机制**: 巧妙地**结合 LLM 的动态交互能力与一个精心设计的开放性剧本**（包含松散主线、关键剧情节点和可触发事件），确保冒险既有高度自由度，又能保持长期的叙事连贯性和精彩度。
*   **解决痛点**: 解决寻找游戏伙伴和协调时间的困难，提供随时可玩的沉浸式 TTRPG 体验；克服纯 LLM 应用在长期记忆和叙事聚焦上的局限性。

## 2. 核心特性 (概览)

*   **真正的单人 TTRPG 体验**: 无需 GM 或其他玩家。
*   **深度思考的 AI 角色**: 目标驱动、个性化策略、环境观察、动态关系。
*   **结构化的自由叙事 (Structured Freedom)**: 结合开放性剧本框架与 LLM 动态生成，保证故事连贯性与自由度。
*   **高度沉浸与动态交互**: AI 反应和剧本事件共同创造“活”世界。
*   **纯粹的叙事互动**: 核心玩法是自然语言交互。

## 3. 项目范围 (基于产品说明推断)

*   实现能够模拟具有独立思考能力（目标、个性、观察、关系）的 NPC 的 AI 代理。
*   实现能够扮演 GM 角色、驱动叙事并管理剧本框架的 LLM 功能。
*   设计并实现“开放性剧本”的数据结构和管理机制（主线、节点、事件）。
*   构建游戏引擎，管理游戏状态、回合流程、玩家行动处理和剧本事件触发。
*   提供角色创建和基于自然语言的玩家输入处理机制。
*   专注于单人游戏体验。

## 4. 主要技术栈 (推断)

*   **语言**: Python
*   **核心技术**: 大型语言模型 (LLM)
*   **(可能)** Pydantic (用于数据建模，参考 README)
*   **(可能)** JSON/YAML (用于剧本和配置)

## 5. 基本玩法循环

1.  **创建角色**: 定义背景、目标、个性。
2.  **设定与开端**: LLM (GM) 依据剧本描绘背景、情境、引入 NPC/事件。
3.  **玩家行动**: 自然语言描述意图。
4.  **LLM 处理**: 更新世界状态，模拟 NPC 思考，叙述结果，参照剧本触发事件。
5.  **循环**: 持续互动，故事在玩家自由探索和剧本引导下演变。

*(此文件基于 docs/产品说明.md 生成)*
